<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Login – RentTOgo</title>
  <link rel="stylesheet" href="/css/styles.css" />
  <style>
    /* (Keep the exact styles you already had) */
    .centered { display:flex; align-items:center; justify-content:center; min-height:calc(100vh - 160px); padding:40px 20px; }
    .login-card { background: rgba(30,41,59,0.5); backdrop-filter: blur(10px); border:1px solid rgba(255,255,255,0.1); border-radius:20px; padding:48px; width:100%; max-width:440px; animation: fadeInUp 0.6s ease;}
    @keyframes fadeInUp { from{opacity:0; transform:translateY(20px);} to{opacity:1; transform:translateY(0);} }
    .login-card h2 { font-size:32px; margin-bottom:12px; text-align:center; background:linear-gradient(135deg,#f1f5f9 0%,#94a3b8 100%); -webkit-background-clip:text; background-clip:text; -webkit-text-fill-color:transparent; }
    .form-group { margin-bottom:20px; }
    .form-group label { display:block; color:var(--text-muted); font-size:14px; margin-bottom:8px; font-weight:600; }
    .form-group input, .form-group select { width:100%; padding:14px 16px; background: rgba(15,23,42,0.6); border:1px solid rgba(255,255,255,0.1); border-radius:10px; color:var(--text); font-size:15px; transition:all 0.3s; }
    .form-group input:focus, .form-group select:focus { outline:none; border-color:var(--accent); box-shadow:0 0 0 3px rgba(99,102,241,0.1); }
    button[type="submit"] { width:100%; padding:16px; background: linear-gradient(135deg,var(--accent) 0%,var(--accent-dark) 100%); color:white; border:none; border-radius:12px; font-size:16px; font-weight:700; cursor:pointer; transition:all 0.3s; box-shadow:0 10px 25px rgba(99,102,241,0.3); margin-top:24px; }
    .error { background: rgba(239,68,68,0.1); border:1px solid rgba(239,68,68,0.3); color:#ef4444; padding:12px 16px; border-radius:10px; margin-top:16px; text-align:center; font-size:14px; animation: slideDown 0.3s ease; }
    .success { background: rgba(16,185,129,0.1); border:1px solid rgba(16,185,129,0.3); color:#10b981; padding:12px 16px; border-radius:10px; margin-bottom:20px; text-align:center; font-size:14px; animation: slideDown 0.3s ease; }
    @keyframes slideDown { from{opacity:0; transform:translateY(-10px);} to{opacity:1; transform:translateY(0);} }
  </style>
</head>
<body>
  <header class="topbar">
    <div class="logo">RentTOgo</div>
    <nav>
      <a th:href="@{/}">Home</a>
      <a th:href="@{/register}">Register</a>
    </nav>
  </header>

  <main class="centered">
    <div class="login-card">
      <h2>Welcome Back</h2>
      <p style="text-align:center; color:var(--text-muted); margin-bottom:24px;">Login to find your perfect PG</p>

      <!-- server-side success / error messages -->
      <div th:if="${success}" class="success" th:text="${success}">✓ Login successful! Redirecting...</div>
      <div th:if="${error}" class="error" th:text="${error}">✗ Invalid credentials</div>

      <!-- Thymeleaf form posting to /doLogin -->
      <form th:action="@{/doLogin}" method="post">
        <div class="form-group">
          <label for="role">Role</label>
          <select id="role" name="role" required>
            <option value="student">Student</option>
            <option value="owner">Owner</option>
          </select>
        </div>

        <div class="form-group">
          <label for="identifier">Admission No (Student) / Phone (Owner)</label>
          <input id="identifier" name="identifier" type="text" placeholder="S001 or +91-XXXXXXXXXX" required />
        </div>

        <div class="form-group">
          <label for="password">Password</label>
          <input id="password" name="password" type="password" placeholder="Enter your password" required />
        </div>

        <div style="display:flex; justify-content:space-between; align-items:center; margin-top:12px;">
          <label style="color:var(--text-muted); font-size:14px; display:flex; align-items:center; gap:6px; cursor:pointer;">
            <input type="checkbox" name="remember" style="width:auto; margin:0; cursor:pointer;" />
            Remember me
          </label>
          <a th:href="@{/forgot-password}" style="color:var(--accent-light); font-size:14px; text-decoration:none;">Forgot Password?</a>
        </div>

        <button type="submit">Login</button>

        <p style="text-align:center; margin-top:20px; color:var(--text-muted); font-size:14px;">
          Don't have an account? <a th:href="@{/register}" style="color:var(--accent-light); text-decoration:none; font-weight:600;">Sign up</a>
        </p>
      </form>
    </div>
  </main>

  <footer>
    <p>© 2025 RentTOgo. Your trusted PG and hostel finder.</p>
  </footer>

  <!-- No client-side demo login script — server handles authentication -->
</body>
</html>
